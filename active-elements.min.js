"use strict";function _instanceof(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}function _classCallCheck(e,t){if(!_instanceof(e,t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){if(t)_defineProperties(e.prototype,t);if(i)_defineProperties(e,i);return e}var ActiveElements=function(){function w(e){var t=this;var i=e.wrapper,s=i===void 0?"":i,a=e.activeElements,n=a===void 0?"":a,l=e.swipeArea,r=l===void 0?"":l,c=e.clickableElements,o=c===void 0?"":c,u=e.prevNextButtons,v=u===void 0?false:u,h=e.autoPlay,f=h===void 0?true:h,p=e.autoplaySpeed,m=p===void 0?3500:p,d=e.stopAutoPlayOnClick,y=d===void 0?false:d,E=e.loop,k=E===void 0?true:E,A=e.firstElementActive,C=A===void 0?true:A;_classCallCheck(this,w);this.wrapper=document.querySelector(s);this.autoPlaySpeed;this.prevBtn;this.nextBtn;this.swipeArea=r?document.querySelector(r):false;this.clickableElements=o;this.stopAutoPlayOnClick=y;this.loop=k;this.elementClassName="";if(Array.isArray(n)){this.activeElements=n.map(function(e){return t.wrapper.querySelectorAll(e)});this.elementClassName=n[0]}else{this.activeElements=[this.wrapper.querySelectorAll(n)];this.elementClassName=n}this.elementsGroupCount=this.activeElements.length;this.elementsCount=this.activeElements[0].length;if(C){this.wrapper.setAttribute("data-active-element",1);this.first()}this.autoPlaySpeed=m;this.autoPlay=f;if(this.autoPlay){this.autoplay()}if(v){this._addPrevNextButtons(v)}this._clickEvent();this._swipeEvent()}_createClass(w,[{key:"_addPrevNextButtons",value:function e(t){var i=this;this.prevBtn=document.querySelector(t[0]);this.prevBtn.addEventListener("click",function(){i.prev()});this.nextBtn=document.querySelector(t[1]);this.nextBtn.addEventListener("click",function(){i.next()})}},{key:"autoplay",value:function e(){var t=this;this.interval=setInterval(function(){t.next()},this.autoPlaySpeed);if(this.stopAutoPlayOnClick){this.stopAutoPlayOnClick=Array.isArray(this.stopAutoPlayOnClick)?this.stopAutoPlayOnClick:[this.stopAutoPlayOnClick];for(var i=0;i<this.stopAutoPlayOnClick.length;i++){var s=document.querySelectorAll(this.stopAutoPlayOnClick[i]);for(var a=0;a<s.length;a++){s[a].addEventListener("click",function(e){return t.stopAutoPlay(e)},{once:true});s[a].addEventListener("touchstart",function(e){return t.stopAutoPlay(e)},{once:true})}}}}},{key:"stopAutoPlay",value:function e(t){clearInterval(this.interval)}},{key:"_clickEvent",value:function e(){var t=this;if(this.clickableElements){if(Array.isArray(this.clickableElements)){this.clickableElements.forEach(function(e){var t=this;document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){t._elementActiveClassByClick(e)})})})}else{document.querySelectorAll(this.clickableElements).forEach(function(e){e.addEventListener("click",function(e){t._elementActiveClassByClick(e)})})}}}},{key:"_swipeEvent",value:function e(){var i=this;if(this.swipeArea){this.touchstartX=0;this.swipeArea.addEventListener("touchstart",function(e){i.touchstartX=e.changedTouches[0].screenX},false);this.swipeArea.addEventListener("touchend",function(e){var t=e.changedTouches[0].screenX;if(t<=i.touchstartX&&i.touchstartX-t>25){i.next()}if(t>=i.touchstartX&&t-i.touchstartX>25){i.prev()}},false)}}},{key:"removeAll",value:function e(){this.activeElements.forEach(function(e){e.forEach(function(e){e.classList.remove("active")})})}},{key:"first",value:function e(){this.removeAll();this.wrapper.dataset.activeElement=1;this.activeElements.forEach(function(e){e[0].classList.add("active")})}},{key:"last",value:function e(){this.removeAll();this.wrapper.dataset.activeElement=this.elementsCount;this.activeElements.forEach(function(e){e[e.length-1].classList.add("active")})}},{key:"_nextElementActiveClass",value:function e(){var i=this;this.wrapper.dataset.activeElement=parseInt(this.wrapper.dataset.activeElement)+1;this.activeElements.forEach(function(e){for(var t=0;t<i.elementsCount;t++){if(e[t].classList.contains("active")){e[t].classList.remove("active");e[t].nextElementSibling.classList.add("active");break}}})}},{key:"_prevElementActiveClass",value:function e(){var i=this;this.wrapper.dataset.activeElement=parseInt(this.wrapper.dataset.activeElement)===1?this.elementsCount:parseInt(this.wrapper.dataset.activeElement)-1;this.activeElements.forEach(function(e){for(var t=0;t<i.elementsCount;t++){if(e[t].classList.contains("active")){e[t].classList.remove("active");e[t].previousElementSibling.classList.add("active");break}}})}},{key:"_elementActiveClassByClick",value:function e(t){var i="";this.removeAll();for(var s=0;s<this.elementsGroupCount;s++){for(var a=0;a<this.elementsCount;a++){if(t.currentTarget.isSameNode(this.activeElements[s][a])){i=a;this.wrapper.dataset.activeElement=i+1;break}}if(i){break}}for(var n=0;n<this.elementsGroupCount;n++){this.activeElements[n][i].classList.add("active")}}},{key:"next",value:function e(){var t=this.wrapper.querySelector(this.elementClassName+".active"+":last-of-type");if(t&&!this.loop){}else if(t){this.first()}else{this._nextElementActiveClass()}}},{key:"prev",value:function e(){var t=this.wrapper.querySelector(this.elementClassName+".active"+":first-of-type");if(t&&!this.loop){}else if(t){this.last()}else{this._prevElementActiveClass()}}}]);return w}();