"use strict";function _instanceof(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}function _classCallCheck(e,t){if(!_instanceof(e,t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){if(t)_defineProperties(e.prototype,t);if(i)_defineProperties(e,i);return e}var ActiveElements=function(){function k(e){var t=this;var i=e.wrapper,s=i===void 0?"":i,n=e.activeElements,a=n===void 0?"":n,l=e.swipeArea,r=l===void 0?"":l,c=e.clickableElements,o=c===void 0?"":c,u=e.prevNextButtons,v=u===void 0?false:u,h=e.autoPlay,f=h===void 0?3500:h,m=e.stopAutoPlayOnClick,p=m===void 0?false:m,d=e.loop,E=d===void 0?true:d,y=e.firstElementActive,A=y===void 0?true:y;_classCallCheck(this,k);this.wrapper=document.querySelector(s);this.autoPlaySpeed;this.prevBtn;this.nextBtn;this.swipeArea=r?document.querySelector(r):false;this.clickableElements=o;this.stopAutoPlayOnClick=p;this.loop=E;this.elementClassName="";if(Array.isArray(a)){this.activeElements=a.map(function(e){return t.wrapper.querySelectorAll(e)});this.elementClassName=a[0]}else{this.activeElements=[this.wrapper.querySelectorAll(a)];this.elementClassName=a}this.elementsGroupCount=this.activeElements.length;this.elementsCount=this.activeElements[0].length;if(A){this.wrapper.setAttribute("data-active-element",1);this.firstElementActive()}this.autoPlaySpeed=f;if(this.autoPlaySpeed){this.startAutoPlay()}if(v){this._addPrevNextButtons(v)}this._clickEvent();this._swipeEvent()}_createClass(k,[{key:"_addPrevNextButtons",value:function e(t){var i=this;this.prevBtn=document.querySelector(t[0]);this.prevBtn.addEventListener("click",function(){i.prevElement()});this.nextBtn=document.querySelector(t[1]);this.nextBtn.addEventListener("click",function(){i.nextElement()})}},{key:"startAutoPlay",value:function e(){var t=this;this.interval=setInterval(function(){t.nextElement()},this.autoPlaySpeed);if(this.stopAutoPlayOnClick){this.stopAutoPlayOnClick=Array.isArray(this.stopAutoPlayOnClick)?this.stopAutoPlayOnClick:[this.stopAutoPlayOnClick];for(var i=0;i<this.stopAutoPlayOnClick.length;i++){var s=document.querySelectorAll(this.stopAutoPlayOnClick[i]);for(var n=0;n<s.length;n++){s[n].addEventListener("click",function(e){return t.stopAutoPlay(e)},{once:true});s[n].addEventListener("touchstart",function(e){return t.stopAutoPlay(e)},{once:true})}}}}},{key:"stopAutoPlay",value:function e(t){clearInterval(this.interval)}},{key:"_clickEvent",value:function e(){var t=this;if(this.clickableElements){if(Array.isArray(this.clickableElements)){this.clickableElements.forEach(function(e){var t=this;document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){t._elementActiveClassByClick(e)})})})}else{document.querySelectorAll(this.clickableElements).forEach(function(e){e.addEventListener("click",function(e){t._elementActiveClassByClick(e)})})}}}},{key:"_swipeEvent",value:function e(){var i=this;if(this.swipeArea){this.touchstartX=0;this.swipeArea.addEventListener("touchstart",function(e){i.touchstartX=e.changedTouches[0].screenX},false);this.swipeArea.addEventListener("touchend",function(e){var t=e.changedTouches[0].screenX;if(t<=i.touchstartX&&i.touchstartX-t>25){i.nextElement()}if(t>=i.touchstartX&&t-i.touchstartX>25){i.prevElement()}},false)}}},{key:"removeAllActiveClass",value:function e(){this.activeElements.forEach(function(e){e.forEach(function(e){e.classList.remove("active")})})}},{key:"firstElementActive",value:function e(){this.removeAllActiveClass();this.wrapper.dataset.activeElement=1;this.activeElements.forEach(function(e){e[0].classList.add("active")})}},{key:"lastElementActive",value:function e(){this.removeAllActiveClass();this.wrapper.dataset.activeElement=this.elementsCount;this.activeElements.forEach(function(e){e[e.length-1].classList.add("active")})}},{key:"_nextElementActiveClass",value:function e(){var i=this;this.wrapper.dataset.activeElement=parseInt(this.wrapper.dataset.activeElement)+1;this.activeElements.forEach(function(e){for(var t=0;t<i.elementsCount;t++){if(e[t].classList.contains("active")){e[t].classList.remove("active");e[t].nextElementSibling.classList.add("active");break}}})}},{key:"_prevElementActiveClass",value:function e(){var i=this;this.wrapper.dataset.activeElement=parseInt(this.wrapper.dataset.activeElement)===1?this.elementsCount:parseInt(this.wrapper.dataset.activeElement)-1;this.activeElements.forEach(function(e){for(var t=0;t<i.elementsCount;t++){if(e[t].classList.contains("active")){e[t].classList.remove("active");e[t].previousElementSibling.classList.add("active");break}}})}},{key:"_elementActiveClassByClick",value:function e(t){var i="";this.removeAllActiveClass();for(var s=0;s<this.elementsGroupCount;s++){for(var n=0;n<this.elementsCount;n++){if(t.currentTarget.isSameNode(this.activeElements[s][n])){i=n;this.wrapper.dataset.activeElement=i+1;break}}if(i){break}}for(var a=0;a<this.elementsGroupCount;a++){this.activeElements[a][i].classList.add("active")}}},{key:"nextElement",value:function e(){var t=this.wrapper.querySelector(this.elementClassName+".active"+":last-of-type");if(t&&!this.loop){}else if(t){this.firstElementActive()}else{this._nextElementActiveClass()}}},{key:"prevElement",value:function e(){var t=this.wrapper.querySelector(this.elementClassName+".active"+":first-of-type");if(t&&!this.loop){}else if(t){this.lastElementActive()}else{this._prevElementActiveClass()}}}]);return k}();